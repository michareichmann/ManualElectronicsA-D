% DEFINE LIST
\newcommand{\listnotename}{List of Notes} % Set the name of the list

\newlistof[chapter]{notes}{nte}{\listnotename} % First bracket is \listof{what's in here}, second is the document that will be created, NameOfYourDoc.nte in this case. Third is title of the list, what you define in above \newcommand.
%
\newcommand{\notes}[1]{% How to set a counter for. 
\refstepcounter{notes} %increase the counter
\par\noindent\textbf{Note \thenotes:~#1} %The text that will be used when \notes is used.
\addcontentsline{nte}{notes} % Add the line to the .nte file
{\protect\numberline{\thenotes}#1}\par} %I do not understand this, maybe somebody can explain.

\setlength{\cftnotesindent}{1.5em} %Indent of the example #. Same as \listoffigures
\setlength{\cftnotesnumwidth}{2.3em} %Indent of the notes title. Same as \listoffigures
\renewcommand{\cfttsktitlefont}{\bfseries\Large} % Sets the font for \listnotename

%
% DEFINE ENVIRONMENT
\mdfsetup{skipabove=\topskip, skipbelow=\topskip}
\newenvironment{note}[1][]{%
\ifstrempty{#1}
{\mdfsetup{frametitle=\null\hspace*{1em}{%
\tikz[baseline=(current bounding box.east),outer sep=0pt, rounded corners=2mm]
\node[anchor=east,rectangle,fill=OliveGreen!30, draw=OliveGreen, line width=1pt]
{\notes{#1}};}}%
}
{\mdfsetup{frametitle=\null\hspace*{1em}{%
\tikz[baseline=(current bounding box.east),outer sep=0pt, rounded corners=2mm]
\node[anchor=east,rectangle,fill=OliveGreen!30, draw=OliveGreen, line width=1pt]
{\notes{#1}};}}%
}
%
\mdfsetup{roundcorner=5pt, frametitleaboveskip=-12pt, frametitlebelowskip=1pt, innerleftmargin=1em, linecolor=OliveGreen!50, backgroundcolor=OliveGreen!5, nobreak=true}

\begin{mdframed}[]\relax\bfseries%
% \begin{mdframed}[]\relax\bfseries\color{red}%
}{\end{mdframed}}
